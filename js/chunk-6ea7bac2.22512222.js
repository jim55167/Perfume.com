(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ea7bac2"],{"17f1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"products-box"},[a("div",{staticClass:"products-item d-flex"},t._l(t.loveList.slice(t.pageStart,t.pageStart+t.countPage),(function(e,n){return a("div",{key:n,staticClass:"products-list"},[t.loveItem?a("div",{staticClass:"products"},[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getProduct(e.id)}}},[a("img",{attrs:{alt:"主圖",src:e.imageUrl}}),a("h4",[t._v(t._s(e.title))]),a("p",[t._v(t._s(e.category))]),a("p",{staticClass:"d-flex"},[t._v("NT"+t._s(t._f("currency")(e.price))+" "),a("del",[t._v("NT"+t._s(t._f("currency")(e.origin_price)))])])]),a("div",{staticClass:"products-add"},[a("a",{attrs:{href:"#",title:"加入收藏"},on:{click:function(a){return a.preventDefault(),t.addLove(e.id)}}},[a("i",{class:t.showLove(e.id)})]),a("a",{attrs:{href:"#",title:"加入購物車"},on:{click:function(a){return a.preventDefault(),t.addToCart(e.id)}}},[a("i",{staticClass:"fas fa-shopping-cart"})])])]):t._e()])})),0),t.loveItem?t._e():a("div",{staticClass:"emptyCart-wrap"},[a("h4",[t._v("收藏欄位空空的！")]),a("router-link",{staticClass:"btn btn-primary shopping-link",attrs:{to:"/home"}},[t._v("Shopping Now")])],1),a("div",{staticClass:"d-flex"},[a("nav",{staticStyle:{margin:"0 auto 15px"},attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:1===t.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.getPage(t.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.totalPage,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.current_page===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getPage(e)}}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item",class:{disabled:t.current_page===t.totalPage}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.getPage(t.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])]),a("GoTop"),t.lightBox?a("div",{staticClass:"screen"},[a("div",{staticClass:"view-box"},[a("div",{staticClass:"box"},[t._v("已加入購物車")]),a("div",{staticClass:"cancel",on:{click:function(e){return e.preventDefault(),t.cancelLocation(e)}}},[t._v("X")])])]):t._e()],1)},i=[],s=(a("99af"),a("4de4"),a("c740"),a("c975"),a("a434"),a("c12c")),o=a("1157"),r=a.n(o),c={data:function(){return{current_page:1,countPage:12,love:JSON.parse(localStorage.getItem("loveList"))||[]}},methods:{getAllProducts:function(){this.$store.dispatch("getAllProducts")},getProduct:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim12345","/product/").concat(t);this.$store.dispatch("updateLoading",!0),this.$http.get(a).then((function(t){t.data.success&&(e.$store.dispatch("updateLoading",!1),e.$router.push("../front_single_product/".concat(t.data.product.id)).catch((function(t){return t})))}))},getPage:function(t){r()("html, body").animate({scrollTop:0},600),t<=0||t>this.totalPage||(this.current_page=t)},getCart:function(){this.$store.dispatch("getCart")},addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addToCart",{id:t,qty:e}),this.$store.dispatch("isLightBox",!0)},cancelLocation:function(){this.$store.dispatch("isLightBox",!1)},addLove:function(t){var e=this,a=e.love.findIndex((function(e){return t===e}));e.love.indexOf(t)<0?e.love.push(t):e.love.splice(a,1),localStorage.setItem("loveList",JSON.stringify(e.love))}},computed:{showLove:function(){return function(t){return this.love.indexOf(t)>-1?"far fa-heart":"fas fa-heart"}},loveList:function(){var t=this;return t.products.filter((function(e){return t.love.indexOf(e.id)>-1}))},products:function(){return this.$store.state.products},categories:function(){return this.$store.state.categories},isLoading:function(){return this.$store.state.isLoading},lightBox:function(){return this.$store.state.lightBox},cart:function(){return this.$store.state.cart},pageStart:function(){return(this.current_page-1)*this.countPage},totalPage:function(){return Math.ceil(this.loveList.length/this.countPage)},loveItem:function(){return void 0!==this.loveList&&0!==this.loveList.length}},created:function(){this.getAllProducts(),this.getCart()},components:{GoTop:s["a"]}},l=c,u=a("2877"),d=Object(u["a"])(l,n,i,!1,null,null,null);e["default"]=d.exports},c12c:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"goTop",class:{btnFlag:t.btnFlag},on:{click:function(e){return e.preventDefault(),t.goTop(e)}}})])},i=[],s={name:"goTop",data:function(){return{btnFlag:!0}},methods:{goTop:function(){window.scrollTo({top:0})}},mounted:function(){var t=this;document.body.onscroll=function(){document.documentElement.scrollTop>200?t.btnFlag=!0:t.btnFlag=!1}}},o=s,r=a("2877"),c=Object(r["a"])(o,n,i,!1,null,null,null);e["a"]=c.exports},c740:function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").findIndex,s=a("44d2"),o=a("ae40"),r="findIndex",c=!0,l=o(r);r in[]&&Array(1)[r]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},c975:function(t,e,a){"use strict";var n=a("23e7"),i=a("4d64").indexOf,s=a("a640"),o=a("ae40"),r=[].indexOf,c=!!r&&1/[1].indexOf(1,-0)<0,l=s("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?r.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-6ea7bac2.22512222.js.map