(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ebc7fe6"],{"173e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("div",{staticClass:"single-box"},[i("div",{staticClass:"single-item"},[i("div",{staticClass:"single-img"},[i("div",{staticClass:"single-img-nav"},[i("img",{attrs:{alt:"圖一",src:t.product.imageUrl}})]),i("div",{staticClass:"single-img-nav2"},[i("img",{attrs:{alt:"圖二",src:t.product.imageUrl2}}),i("img",{attrs:{alt:"圖三",src:t.product.imageUrl3}})])]),i("div",{staticClass:"single-nav"},[i("h3",[t._v(t._s(t.product.title))]),i("pre",[t._v(t._s(t.product.content))]),i("p",[t._v("NT"+t._s(t._f("currency")(t.product.price)))]),i("div",{staticClass:"single-num"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control",attrs:{name:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"num",e.target.multiple?i:i[0])}}},t._l(10,(function(e){return i("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" "+t._s(t.product.unit)+" ")])})),0),i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addToCart(t.product.id,t.product.num)}}},[t.product.id===t.loadingItem?i("i",{staticClass:"fas fa-circle-notch fa-spin"}):t._e(),t._v("加入購物車 ")])]),i("div",{staticClass:"single-heart"},[i("a",{attrs:{href:"#",title:"加入收藏"},on:{click:function(e){return e.preventDefault(),t.addLove(t.product.id)}}},[i("i",{class:t.showLove(t.product.id)}),t._v("加入我的收藏 ")])]),i("div",{staticClass:"single-native"},[i("pre",[t._v(t._s(t.product.description))]),i("h5",[t._v("商品購買須知")]),i("p",[t._v("產品因拍攝關係顏色可能略有差異，實際以廠商出貨為主。 商品情境照為示意用，僅商品主體不包含其他配件，請以規格內容物為主。盡可能確保所列商品備貨充足，但偶爾仍會有產品售罄的情況。如您所訂購的商品庫存不足，我們將盡快以電子郵件通知您。任何訂單變動均會在訂單總額與出貨訊息內更新。")]),i("h5",[t._v("退換貨須知")]),i("p",[t._v("依《消費者保護法》的規定，於全站購物皆享有商品到貨【七日猶豫期】（含例假日）之權益。若收到的商品有任何問題，可於猶豫期內申請退貨。")])])]),i("div",{staticClass:"single-img-nav3"},[i("img",{attrs:{alt:"圖二",src:t.product.imageUrl2}}),i("img",{attrs:{alt:"圖三",src:t.product.imageUrl3}})])])]),i("GoTop"),t.lightBox?i("div",{staticClass:"screen"},[i("div",{staticClass:"view-box"},[i("div",{staticClass:"box"},[t._v("已加入購物車")]),i("div",{staticClass:"cancel",on:{click:function(e){return e.preventDefault(),t.cancelLocation(e)}}},[t._v("X")])])]):t._e()],1)},a=[],o=(i("99af"),i("4de4"),i("c740"),i("c975"),i("a434"),i("d3b7"),i("3ca3"),i("ddb0"),i("c12c")),s=i("bc3a"),c=i.n(s),r={data:function(){return{productId:"",product:{num:1},love:JSON.parse(localStorage.getItem("loveList"))||[],flag:!1}},watch:{$route:function(t,e){this.productId=this.$route.params.productID,this.getSingleProduct()}},methods:{getSingleProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim12345","/product/").concat(this.productId);this.$store.dispatch("updateLoading",!0),this.$http.get(e).then((function(e){e.data.success&&(t.product=e.data.product,t.$set(t.product,"num",1),t.$store.dispatch("updateLoading",!1))}))},getCart:function(){this.$store.dispatch("getCart")},addToCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.flag){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim12345","/cart");this.$store.dispatch("isLightBox",!0),this.$store.dispatch("updateLoading",!0),this.$store.dispatch("getCart").then((function(a){var o=a.filter((function(e){return e.product_id===t})),s={product_id:t,qty:i};if(o.length>0){e.flag=!0;var r=o[0].qty;s={product_id:t,qty:i+r};var u="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim12345","/cart/").concat(o[0].id);Promise.all([c.a.post(n,{data:s}),c.a.delete(u)]).then((function(){e.flag=!1}))}else 0===o.length&&e.$http.post(n,{data:s}).then((function(t){e.flag=!1,t.data.success&&(e.$store.dispatch("getCart"),e.$store.dispatch("updateLoading",!1))}))}))}},cancelLocation:function(){this.$store.dispatch("isLightBox",!1)},addLove:function(t){var e=this,i=e.love.findIndex((function(e){return t===e}));e.love.indexOf(t)<0?e.love.push(t):e.love.splice(i,1),localStorage.setItem("loveList",JSON.stringify(e.love))}},computed:{showLove:function(){return function(t){return this.love.indexOf(t)>-1?"far fa-heart":"fas fa-heart"}},isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart},loadingItem:function(){return this.$store.state.loadingItem},lightBox:function(){return this.$store.state.lightBox}},created:function(){this.productId=this.$route.params.productID,this.getSingleProduct(),this.getCart()},components:{GoTop:o["a"]}},u=r,d=i("2877"),l=Object(d["a"])(u,n,a,!1,null,null,null);e["default"]=l.exports},c12c:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"goTop",class:{btnFlag:t.btnFlag},on:{click:function(e){return e.preventDefault(),t.goTop(e)}}})])},a=[],o={name:"goTop",data:function(){return{btnFlag:!0}},methods:{goTop:function(){window.scrollTo({top:0})}},mounted:function(){var t=this;document.body.onscroll=function(){document.documentElement.scrollTop>200?t.btnFlag=!0:t.btnFlag=!1}}},s=o,c=i("2877"),r=Object(c["a"])(s,n,a,!1,null,null,null);e["a"]=r.exports},c740:function(t,e,i){"use strict";var n=i("23e7"),a=i("b727").findIndex,o=i("44d2"),s=i("ae40"),c="findIndex",r=!0,u=s(c);c in[]&&Array(1)[c]((function(){r=!1})),n({target:"Array",proto:!0,forced:r||!u},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(c)},c975:function(t,e,i){"use strict";var n=i("23e7"),a=i("4d64").indexOf,o=i("a640"),s=i("ae40"),c=[].indexOf,r=!!c&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),d=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:r||!u||!d},{indexOf:function(t){return r?c.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-7ebc7fe6.66438582.js.map