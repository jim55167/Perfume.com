(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-885e2e7a"],{1567:function(t,i,a){"use strict";a("3972")},3972:function(t,i,a){},c12c:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("div",{staticClass:"goTop",class:{btnFlag:t.btnFlag},on:{click:function(i){return i.preventDefault(),t.goTop(i)}}})])},s=[],n={name:"goTop",data:function(){return{btnFlag:!0}},methods:{goTop:function(){window.scrollTo({top:0})}},mounted:function(){var t=this;document.body.onscroll=function(){document.documentElement.scrollTop>200?t.btnFlag=!0:t.btnFlag=!1}}},r=n,o=a("2877"),c=Object(o["a"])(r,e,s,!1,null,null,null);i["a"]=c.exports},c591:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),a("div",{staticClass:"products-navbar"},[a("div",{staticClass:"products-navbar-item"},[a("a",{class:{active:"All"===t.visibility},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.visibility="All"}}},[t._v("All")]),a("a",{class:{active:"Jo Malone"===t.visibility},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.visibility="Jo Malone"}}},[t._v("Jo Malone")]),a("a",{class:{active:"Dior"===t.visibility},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.visibility="Dior"}}},[t._v("Dior")]),a("a",{class:{active:"CHANEL"===t.visibility},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.visibility="CHANEL"}}},[t._v("CHANEL")]),a("a",{class:{active:"YSL"===t.visibility},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.visibility="YSL"}}},[t._v("YSL")]),a("a",{class:{active:"Penhaligon"===t.visibility},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.visibility="Penhaligon"}}},[t._v("Penhaligon")]),a("a",{class:{active:"Chloe"===t.visibility},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.visibility="Chloe"}}},[t._v("Chloe")])])]),a("div",{staticClass:"products-box"},[a("div",{staticClass:"products-item d-flex"},t._l(t.categoryData.slice(t.pageStart,t.pageStart+t.countPage),(function(i,e){return a("div",{key:e,staticClass:"products-list d-flex"},[a("div",{staticClass:"products"},[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getProduct(i.id)}}},[a("img",{attrs:{alt:"圖一",src:i.imageUrl}}),a("h4",[t._v(t._s(i.title))]),a("p",[t._v(t._s(i.category))]),a("p",{staticClass:"d-flex"},[t._v("NT"+t._s(t._f("currency")(i.price))+" "),a("del",[t._v("NT"+t._s(t._f("currency")(i.origin_price)))])])]),a("div",{staticClass:"products-add d-flex"},[a("a",{attrs:{href:"#",title:"加入收藏"},on:{click:function(a){return a.preventDefault(),t.addLove(i.id)}}},[a("i",{class:t.showLove(i.id)})]),a("a",{attrs:{href:"#",title:"加入購物車"},on:{click:function(a){return a.preventDefault(),t.addToCart(i.id)}}},[a("i",{staticClass:"fas fa-shopping-cart"})]),a("Star",{attrs:{"product-item":i},on:{update:t.changeStar}})],1)]),t.lightBox?a("div",{staticClass:"screen"},[a("div",{staticClass:"view-box"},[a("div",{staticClass:"box"},[t._v("已加入購物車")]),a("div",{staticClass:"cancel",on:{click:function(i){return i.preventDefault(),t.cancelLocation(i)}}},[t._v("X")])])]):t._e()])})),0)]),a("div",{staticClass:"d-flex"},[a("nav",{staticStyle:{margin:"0 auto 15px"},attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:1===t.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(i){return i.preventDefault(),t.getPage(t.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.totalPage,(function(i){return a("li",{key:i,staticClass:"page-item",class:{active:t.current_page===i}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getPage(i)}}},[t._v(t._s(i))])])})),a("li",{staticClass:"page-item",class:{disabled:t.current_page===t.totalPage}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(i){return i.preventDefault(),t.getPage(t.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])]),t._m(0),a("GoTop")],1)},s=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"footer-box-product"},[a("div",{staticClass:"footer-box-item"},[a("div",{staticClass:"footer-text"},[a("h4",[t._v(" 記得"),a("br"),t._v(" 訂閱以獲取更多資訊！ ")]),a("form",{attrs:{action:"#"}},[a("div",{staticClass:"d-flex form-color"},[a("input",{staticClass:"form-control",attrs:{type:"email",name:"subscribeEmail",placeholder:"Your email address"}}),a("input",{staticClass:"form-control-btn",attrs:{type:"submit",value:"Subscribe"}})])])])])])}],n=(a("99af"),a("4de4"),a("c740"),a("4160"),a("c975"),a("a434"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("c12c")),r=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"star_box"},[a("div",{staticClass:"star_line"},t._l(t.total,(function(i,e){return a("span",{key:e,staticClass:"star",style:t.starStyle,on:{click:function(a){return t.changeValue(i)}}},[t._v("☆")])})),0),a("div",{staticClass:"star_line star_pointer"},t._l(t.productItem.star,(function(i,e){return a("span",{key:e,staticClass:"star",class:{active:t.isActive},style:t.starStyle},[t._v("★")])})),0)])},o=[],c={data:function(){return{isActive:!0}},props:{total:{default:3},size:{default:30},productItem:{type:Object},starControl:{type:Boolean}},methods:{changeValue:function(t){this.productItem.star=t,this.$emit("update",this.productItem)}},computed:{starStyle:function(){return{width:this.size+"px",height:this.size+"px",fontSize:this.size+"px"}}}},l=c,u=(a("1567"),a("2877")),d=Object(u["a"])(l,r,o,!1,null,"0b53f19f",null),f=d.exports,h=a("bc3a"),p=a.n(h),v=a("1157"),g=a.n(v),y={data:function(){return{current_page:1,countPage:12,visibility:"All",love:JSON.parse(localStorage.getItem("loveList"))||[],starLocal:JSON.parse(localStorage.getItem("starList"))||[],flag:!1,isActive:!0}},methods:{getAllProducts:function(){this.$store.dispatch("getAllProducts")},getProduct:function(t){var i=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim12345","/product/").concat(t);this.$store.dispatch("updateLoading",!0),localStorage.setItem("cateFilteredList",JSON.stringify(this.products)),this.$http.get(a).then((function(t){t.data.success&&(i.$store.dispatch("updateLoading",!1),i.$router.push("../front_single_product/".concat(t.data.product.id)).catch((function(t){return t})))}))},getPage:function(t){g()("html, body").animate({scrollTop:0},600),t<=0||t>this.totalPage||(this.current_page=t)},getCart:function(){this.$store.dispatch("getCart")},addToCart:function(t){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.flag){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim12345","/cart");this.$store.dispatch("updateLoading",!0),this.$store.dispatch("getCart").then((function(s){var n=s.filter((function(i){return i.product_id===t})),r={product_id:t,qty:a};if(n.length>0){i.flag=!0;var o=n[0].qty;r={product_id:t,qty:a+o};var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim12345","/cart/").concat(n[0].id);Promise.all([p.a.post(e,{data:r}),p.a.delete(c)]).then((function(){i.flag=!1}))}else 0===n.length&&i.$http.post(e,{data:r}).then((function(t){i.flag=!1,t.data.success&&(i.$store.dispatch("getCart"),i.$store.dispatch("updateLoading",!1))}))})),this.$store.dispatch("isLightBox",!0)}},cancelLocation:function(){this.$store.dispatch("isLightBox",!1)},addLove:function(t){var i=this.love.findIndex((function(i){return t===i}));this.love.indexOf(t)<0?this.love.push(t):this.love.splice(i,1),localStorage.setItem("loveList",JSON.stringify(this.love))},changeStar:function(t){var i=JSON.parse(JSON.stringify(this.products));i.forEach((function(i){i.id===t.id&&(i.star=t.star)})),-1===this.starLocal.indexOf(t)&&this.starLocal.push(t),localStorage.setItem("starList",JSON.stringify(this.starLocal)),this.$store.dispatch("updateProduct",i)}},computed:{showLove:function(){return function(t){return this.love.indexOf(t)>-1?"far fa-heart":"fas fa-heart"}},categoryData:function(){var t=[];if("All"===this.visibility)t=this.products;else if("Jo Malone"===this.visibility){var i=[];this.products.forEach((function(t){"Jo Malone"===t.category&&i.push(t)})),t=i}else if("Dior"===this.visibility){var a=[];this.products.forEach((function(t){"Dior"===t.category&&a.push(t)})),t=a}else if("CHANEL"===this.visibility){var e=[];this.products.forEach((function(t){"CHANEL"===t.category&&e.push(t)})),t=e}else if("YSL"===this.visibility){var s=[];this.products.forEach((function(t){"YSL"===t.category&&s.push(t)})),t=s}else if("Penhaligon"===this.visibility){var n=[];this.products.forEach((function(t){"Penhaligon"===t.category&&n.push(t)})),t=n}else if("Chloe"===this.visibility){var r=[];this.products.forEach((function(t){"Chloe"===t.category&&r.push(t)})),t=r}return t},products:function(){return this.$store.state.products},categories:function(){return this.$store.state.categories},isLoading:function(){return this.$store.state.isLoading},lightBox:function(){return this.$store.state.lightBox},cart:function(){return this.$store.state.cart},pageStart:function(){return(this.current_page-1)*this.countPage},totalPage:function(){return Math.ceil(this.categoryData.length/this.countPage)}},mounted:function(){this.getAllProducts(),this.getCart()},components:{GoTop:n["a"],Star:f}},b=y,_=Object(u["a"])(b,e,s,!1,null,null,null);i["default"]=_.exports},c740:function(t,i,a){"use strict";var e=a("23e7"),s=a("b727").findIndex,n=a("44d2"),r=a("ae40"),o="findIndex",c=!0,l=r(o);o in[]&&Array(1)[o]((function(){c=!1})),e({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},c975:function(t,i,a){"use strict";var e=a("23e7"),s=a("4d64").indexOf,n=a("a640"),r=a("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=n("indexOf"),u=r("indexOf",{ACCESSORS:!0,1:0});e({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?o.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-885e2e7a.679a23a4.js.map